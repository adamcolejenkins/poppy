!function($,o,t,e){"use strict";o.Poppy={name:"Poppy",version:"1.0.1",options:{animations:{speed:200},klasses:{element:"poppy",open:"poppy-open",control:"poppy-control"},cookie:{name:"PoppyCollapse",days:1}},locked:!1,init:function(){this.$el=$("."+this.options.klasses.element),this.cookieIsSet()||this.openPopout(),this.bindEvents()},bindEvents:function(){var t=this.$el.find("."+this.options.klasses.control);t.on("click",this.toggleState),$(o).scroll(function(){o.Poppy.isOpen()&&$(o).scrollTop()>100&&o.Poppy.closePopout()})},openPopout:function(o){this.locked=!0,this.$el.stop().animate({right:0},this.options.animations.speed,this.openCompleted(o))},openCompleted:function(o){this.$el.toggleClass(this.options.klasses.open),"function"==typeof o&&o(),this.locked=!1},closePopout:function(o){this.locked=!0;var t=-(this.$el.outerWidth()-this.$el.find("."+this.options.klasses.control).outerWidth());this.$el.stop().animate({right:t},this.options.animations.speed,this.closeCompleted(o))},closeCompleted:function(o){this.$el.toggleClass(this.options.klasses.open),"function"==typeof o&&o(),this.locked=!1},toggleState:function(){return o.Poppy.isOpen()?o.Poppy.closePopout()&&o.Poppy.setCookie():o.Poppy.openPopout()&&o.Poppy.unsetCookie()},isOpen:function(){return this.$el.hasClass(this.options.klasses.open)&&!this.locked},setCookie:function(o){var e=o?"":this.options.cookie.days,s=o?"":!0;if(o!==!0){var i=new Date;i.setTime(i.getTime()+24*this.options.cookie.days*60*60*1e3),e="; expires="+i.toGMTString()}t.cookie=this.options.cookie.name+"="+s+e+"; path=/"},cookieIsSet:function(){for(var o=this.options.cookie.name+"=",e=t.cookie.split(";"),s=0;s<e.length;s++){for(var i=e[s];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(o))return i.substring(o.length,i.length)}return!1},unsetCookie:function(){this.setCookie(!0)}},$(t).ready(function(){o.Poppy.init()})}(jQuery,window,window.document);